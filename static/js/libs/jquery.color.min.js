(function(f,n){function o(a,c,d){var b=s[c.type]||{};if((c.empty||d)&&a==null)return null;if(c.def&&a==null)return c.def;a=b.floor?~~a:parseFloat(a);if(f.isNaN(a))return c.def;return b.mod?(a%=b.mod,a<0?b.mod+a:a):b.min>a?b.min:b.max<a?b.max:a}function q(a,c,d){d=(d+1)%1;return d*6<1?a+(c-a)*6*d:d*2<1?c:d*3<2?a+(c-a)*(2/3-d)*6:a}var v="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "),w=/^([\-+])=\s*(\d+\.?\d*)/,x=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},
{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],h=f.Color=function(a,c,d,b){return new f.Color.fn.parse(a,c,d,b)},j={rgba:{cache:"_rgba",props:{red:{idx:0,type:"byte",empty:!0},green:{idx:1,type:"byte",empty:!0},blue:{idx:2,type:"byte",empty:!0},alpha:{idx:3,type:"percent",def:1}}},hsla:{cache:"_hsla",props:{hue:{idx:0,type:"degrees",empty:!0},saturation:{idx:1,type:"percent",
empty:!0},lightness:{idx:2,type:"percent",empty:!0}}}},s={"byte":{floor:!0,min:0,max:255},percent:{min:0,max:1},degrees:{mod:360,floor:!0}},t=j.rgba.props,u=h.support={},p,i=f.each;j.hsla.props.alpha=t.alpha;h.fn=h.prototype={constructor:h,parse:function(a,c,d,b){if(a===n)return this._rgba=[null,null,null,null],this;if(a instanceof f||a.nodeType)a=a instanceof f?a.css(c):f(a).css(c),c=n;var g=this,e=f.type(a),k=this._rgba=[];c!==n&&(a=[a,c,d,b],e="array");if(e==="string"){a=a.toLowerCase();i(x,function(d,
b){var c=b.re.exec(a),e=c&&b.parse(c),f=b.space||"rgba",c=j[f].cache;if(e)return e=g[f](e),g[c]=e[c],k=g._rgba=e._rgba,!1});if(k.length!==0)return Math.max.apply(Math,k)===0&&f.extend(k,p.transparent),this;a=p[a]||p._default;return this.parse(a)}if(e==="array")return i(t,function(d,b){k[b.idx]=o(a[b.idx],b)}),this;if(e==="object")return a instanceof h?i(j,function(d,b){a[b.cache]&&(g[b.cache]=a[b.cache].slice())}):i(j,function(b,d){i(d.props,function(b,c){var e=d.cache;if(!g[e]&&d.to){if(a[b]==null||
b==="alpha")return;g[e]=d.to(g._rgba)}g[e][c.idx]=o(a[b],c,!0)})}),this},is:function(a){var c=h(a),d=!0,b=this;i(j,function(a,e){var k=c[e.cache],f;k&&(f=b[e.cache]||e.to&&e.to(b._rgba)||[],i(e.props,function(a,b){if(k[b.idx]!=null)return d=k[b.idx]==f[b.idx]}));return d});return d},_space:function(){var a=[],c=this;i(j,function(d,b){c[b.cache]&&a.push(d)});return a.pop()},transition:function(a,c){var d=h(a),b=d._space(),g=j[b],e=this[g.cache]||g.to(this._rgba),f=e.slice(),d=d[g.cache];i(g.props,
function(a,b){var g=b.idx,h=e[g],i=d[g],m=s[b.type]||{};i!==null&&(h===null?f[g]=i:(m.mod&&(i-h>m.mod/2?h+=m.mod:h-i>m.mod/2&&(h-=m.mod)),f[b.idx]=o((i-h)*c+h,b)))});return this[b](f)},blend:function(a){if(this._rgba[3]===1)return this;var c=this._rgba.slice(),d=c.pop(),b=h(a)._rgba;return h(f.map(c,function(a,c){return(1-d)*b[c]+d*a}))},toRgbaString:function(){var a="rgba(",c=f.map(this._rgba,function(a,b){return a==null?b>2?1:0:a});c[3]===1&&(c.pop(),a="rgb(");return a+c.join(",")+")"},toHslaString:function(){var a=
"hsla(",c=f.map(this.hsla(),function(a,b){a==null&&(a=b>2?1:0);b&&b<3&&(a=Math.round(a*100)+"%");return a});c[3]==1&&(c.pop(),a="hsl(");return a+c.join(",")+")"},toHexString:function(a){var c=this._rgba.slice(),d=c.pop();a&&c.push(~~(d*255));return"#"+f.map(c,function(a){a=(a||0).toString(16);return a.length==1?"0"+a:a}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}};h.fn.parse.prototype=h.fn;j.hsla.to=function(a){if(a[0]==null||a[1]==null||a[2]==null)return[null,
null,null,a[3]];var c=a[0]/255,d=a[1]/255,b=a[2]/255,a=a[3],g=Math.max(c,d,b),e=Math.min(c,d,b),f=g-e,h=g+e,i=h*0.5;return[Math.round(e===g?0:c===g?60*(d-b)/f+360:d===g?60*(b-c)/f+120:60*(c-d)/f+240)%360,i===0||i===1?i:i<=0.5?f/h:f/(2-h),i,a==null?1:a]};j.hsla.from=function(a){if(a[0]==null||a[1]==null||a[2]==null)return[null,null,null,a[3]];var c=a[0]/360,d=a[1],b=a[2],a=a[3],d=b<=0.5?b*(1+d):b+d-b*d,b=2*b-d;return[Math.round(q(b,d,c+1/3)*255),Math.round(q(b,d,c)*255),Math.round(q(b,d,c-1/3)*255),
a]};i(j,function(a,c){var d=c.props,b=c.cache,g=c.to,e=c.from;h.fn[a]=function(a){g&&!this[b]&&(this[b]=g(this._rgba));if(a===n)return this[b].slice();var c=f.type(a),j=c==="array"||c==="object"?a:arguments,l=this[b].slice(),r;i(d,function(a,b){var d=j[c==="object"?a:b.idx];d==null&&(d=l[b.idx]);l[b.idx]=o(d,b)});return e?(r=h(e(l)),r[b]=l,r):h(l)};i(d,function(b,c){h.fn[b]||(h.fn[b]=function(d){var e=f.type(d),g=b==="alpha"?this._hsla?"hsla":"rgba":a,h=this[g](),i=h[c.idx];if(e==="undefined")return i;
e==="function"&&(d=d.call(this,i),e=f.type(d));if(d==null&&c.empty)return this;e==="string"&&(e=w.exec(d))&&(d=i+parseFloat(e[2])*(e[1]==="+"?1:-1));h[c.idx]=d;return this[g](h)})})});i(v,function(a,c){f.cssHooks[c]={set:function(a,b){b=h(b);if(!u.rgba&&b._rgba[3]!==1){var g,e=c==="backgroundColor"?a.parentNode:a;do g=f.curCSS(e,"backgroundColor");while((g===""||g==="transparent")&&(e=e.parentNode)&&e.style);b=b.blend(g&&g!=="transparent"?g:"_default")}b=b.toRgbaString();a.style[c]=b}};f.fx.step[c]=
function(a){if(!a.colorInit)a.start=h(a.elem,c),a.end=h(a.end),a.colorInit=!0;f.cssHooks[c].set(a.elem,a.start.transition(a.end,a.pos))}});f(function(){var a=document.createElement("div").style;a.cssText="background-color:rgba(1,1,1,.5)";u.rgba=a.backgroundColor.indexOf("rgba")>-1});p=f.Color.names={aqua:"#00ffff",azure:"#f0ffff",beige:"#f5f5dc",black:"#000000",blue:"#0000ff",brown:"#a52a2a",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",
darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkviolet:"#9400d3",fuchsia:"#ff00ff",gold:"#ffd700",green:"#008000",indigo:"#4b0082",khaki:"#f0e68c",lightblue:"#add8e6",lightcyan:"#e0ffff",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightyellow:"#ffffe0",lime:"#00ff00",magenta:"#ff00ff",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#ffa500",pink:"#ffc0cb",purple:"#800080",violet:"#800080",
red:"#ff0000",silver:"#c0c0c0",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);
